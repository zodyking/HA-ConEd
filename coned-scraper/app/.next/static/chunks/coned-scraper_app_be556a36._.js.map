{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/zodyk/OneDrive/Desktop/coned-scraper/coned-scraper/app/components/Dashboard.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect, useCallback, useRef } from 'react'\n\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || '/api'\n\ninterface LogEntry {\n  id: number\n  timestamp: string\n  level: string\n  message: string\n}\n\nexport default function Dashboard() {\n  const [isRunning, setIsRunning] = useState(false)\n  const [logs, setLogs] = useState<LogEntry[]>([])\n  const [status, setStatus] = useState<'stopped' | 'running' | 'error'>('stopped')\n  const logContainerRef = useRef<HTMLDivElement>(null)\n  const [apiError, setApiError] = useState<string | null>(null)\n  const [previewUrl, setPreviewUrl] = useState<string | null>(null)\n  const previewRefreshIntervalRef = useRef<NodeJS.Timeout | null>(null)\n\n  const loadLogs = useCallback(async () => {\n    try {\n      let response: Response | null = null\n      \n      try {\n        response = await fetch(`${API_BASE_URL}/logs?limit=100`, {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n        })\n      } catch (fetchError) {\n        // Network error - service might not be running\n        console.error('Network error loading logs:', fetchError)\n        // Don't set error state for logs, just keep existing logs\n        return\n      }\n      \n      if (response && response.ok) {\n        try {\n          const data = await response.json()\n          setLogs((data.logs || []).reverse()) // Show newest at bottom\n        } catch (jsonError) {\n          console.error('Failed to parse logs JSON:', jsonError)\n          setLogs([])\n        }\n      } else if (response) {\n        // HTTP error response\n        console.error('Failed to load logs:', response.status, response.statusText)\n      }\n      // If response is null (network error), keep existing logs\n    } catch (error) {\n      console.error('Failed to load logs:', error)\n      // Keep existing logs on error\n    }\n  }, [])\n\n  const loadLivePreview = useCallback(async () => {\n    try {\n      const timestamp = new Date().getTime()\n      const url = `${API_BASE_URL}/live-preview?t=${timestamp}`\n      const response = await fetch(url)\n      \n      if (response.ok && response.headers.get('content-type')?.startsWith('image/')) {\n        const blob = await response.blob()\n        const imageUrl = URL.createObjectURL(blob)\n        // Revoke old URL to prevent memory leaks\n        setPreviewUrl((prevUrl) => {\n          if (prevUrl && prevUrl.startsWith('blob:')) {\n            URL.revokeObjectURL(prevUrl)\n          }\n          return imageUrl\n        })\n      } else {\n        // Preview not available yet (404 or other error)\n        setPreviewUrl((prevUrl) => {\n          if (prevUrl && prevUrl.startsWith('blob:')) {\n            URL.revokeObjectURL(prevUrl)\n          }\n          return null\n        })\n      }\n    } catch (error) {\n      // Silently fail - preview might not be available\n      setPreviewUrl((prevUrl) => {\n        if (prevUrl && prevUrl.startsWith('blob:')) {\n          URL.revokeObjectURL(prevUrl)\n        }\n        return null\n      })\n    }\n  }, [])\n\n  const loadScrapedData = useCallback(async () => {\n    // Removed - scraped data is now in AccountLedger component\n  }, [])\n\n  useEffect(() => {\n    loadLogs()\n    loadLivePreview()\n    \n    // Refresh logs every 1 second for faster updates\n    const logInterval = setInterval(loadLogs, 1000)\n    \n    // Refresh preview every 500ms when running, 2s when stopped\n    const previewInterval = setInterval(loadLivePreview, isRunning ? 500 : 2000)\n    previewRefreshIntervalRef.current = previewInterval\n    \n    return () => {\n      clearInterval(logInterval)\n      if (previewRefreshIntervalRef.current) {\n        clearInterval(previewRefreshIntervalRef.current)\n      }\n    }\n  }, [loadLogs, loadLivePreview, isRunning])\n\n  // Cleanup blob URL on unmount\n  useEffect(() => {\n    return () => {\n      if (previewUrl && previewUrl.startsWith('blob:')) {\n        URL.revokeObjectURL(previewUrl)\n      }\n    }\n  }, [previewUrl])\n\n  // Auto-scroll logs to bottom when new logs are added\n  useEffect(() => {\n    if (logContainerRef.current) {\n      logContainerRef.current.scrollTop = logContainerRef.current.scrollHeight\n    }\n  }, [logs])\n\n  const handleStartScraper = async () => {\n    setIsRunning(true)\n    setStatus('running')\n    \n    // Clear logs when starting a new scrape\n    setLogs([])\n    \n    try {\n      // Clear logs on the backend as well\n      await fetch(`${API_BASE_URL}/logs`, {\n        method: 'DELETE',\n      }).catch(() => {\n        // Ignore errors if endpoint doesn't exist or fails\n      })\n      \n      // Use safeFetch helper to handle network errors\n      const safeFetch = async (url: string, options?: RequestInit): Promise<Response | null> => {\n        try {\n          const controller = new AbortController()\n          const timeoutId = setTimeout(() => controller.abort(), 30000) // 30 second timeout\n          \n          const response = await fetch(url, {\n            ...options,\n            signal: controller.signal,\n          })\n          \n          clearTimeout(timeoutId)\n          return response\n        } catch (error) {\n          // Silently catch network errors\n          return null\n        }\n      }\n      \n      const response = await safeFetch(`${API_BASE_URL}/scrape`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      })\n\n      if (response && response.ok) {\n        const result = await response.json()\n        setStatus(result.success ? 'stopped' : 'error')\n        // Refresh logs after scraping\n        setTimeout(() => {\n          loadLogs()\n        }, 1000)\n      } else if (response) {\n        // HTTP error response\n        let errorMessage = 'Unknown error occurred'\n        try {\n          const errorData = await response.json()\n          errorMessage = errorData.detail || errorData.error || errorData.message || 'Unknown error occurred'\n        } catch {\n          // If response is not JSON, try to get text\n          try {\n            const text = await response.text()\n            errorMessage = text || `HTTP ${response.status}: ${response.statusText}`\n          } catch {\n            errorMessage = `HTTP ${response.status}: ${response.statusText}`\n          }\n        }\n        setStatus('error')\n        setApiError(`Scraper error: ${errorMessage}`)\n        console.error('Scraper error:', errorMessage)\n      } else {\n        // No response (network error)\n        setStatus('error')\n        setApiError('Cannot connect to Python service. Make sure it\\'s running on port 8000.')\n        // Don't log to console - error is already shown to user via setApiError\n      }\n    } catch (error) {\n      setStatus('error')\n      setApiError('Failed to start scraper. Check console for details.')\n      console.error('Failed to start scraper:', error)\n    } finally {\n      setIsRunning(false)\n    }\n  }\n\n  const formatTimestamp = (timestamp: string) => {\n    try {\n      const date = new Date(timestamp)\n      const dateStr = date.toLocaleDateString('en-US', { \n        year: 'numeric', \n        month: 'long', \n        day: 'numeric' \n      })\n      const timeStr = date.toLocaleTimeString('en-US', { \n        hour: '2-digit', \n        minute: '2-digit',\n        second: '2-digit',\n        hour12: true\n      })\n      return { date: dateStr, time: timeStr }\n    } catch {\n      return { date: timestamp, time: '' }\n    }\n  }\n\n  const formatTimestampForLogs = (timestamp: string) => {\n    try {\n      const date = new Date(timestamp)\n      return date.toLocaleString()\n    } catch {\n      return timestamp\n    }\n  }\n\n  const getLogLevelClass = (level: string) => {\n    switch (level.toLowerCase()) {\n      case 'error':\n        return 'log-level-error'\n      case 'success':\n        return 'log-level-success'\n      case 'warning':\n        return 'log-level-warning'\n      default:\n        return 'log-level-info'\n    }\n  }\n\n  return (\n    <div className=\"ha-dashboard\">\n      {apiError && (\n        <div className=\"ha-card ha-card-error\">\n          <div className=\"ha-card-header\">\n            <span className=\"ha-card-icon\">‚ö†Ô∏è</span>\n            <strong>API Connection Error</strong>\n          </div>\n          <div className=\"ha-card-content\">{apiError}</div>\n        </div>\n      )}\n      \n      <div className=\"ha-card ha-card-status\">\n        <div className=\"ha-card-header\">\n          <span className=\"ha-card-icon\">üîå</span>\n          <span>Service Status</span>\n        </div>\n        <div className=\"ha-card-content\" style={{ padding: '0.5rem 0.75rem' }}>\n          <div className=\"ha-status-controls\">\n            <div className=\"ha-status-info\">\n              <span className={`ha-status-indicator ${status}`}></span>\n              <span className=\"ha-status-text\">\n                {status === 'running' ? 'Running' : status === 'error' ? 'Error' : 'Stopped'}\n              </span>\n            </div>\n            <button\n              className=\"ha-button ha-button-primary\"\n              onClick={handleStartScraper}\n              disabled={isRunning}\n            >\n              {isRunning ? (\n                <>\n                  <img src=\"/images/ajax-loader.gif\" alt=\"Loading\" className=\"ha-loader-inline\" />\n                  Running...\n                </>\n              ) : (\n                'Start Scraper'\n              )}\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '1rem', height: '100%' }}>\n        <div className=\"ha-card ha-card-logs\" style={{ display: 'flex', flexDirection: 'column', minHeight: 0 }}>\n          <div className=\"ha-card-header\">\n            <span className=\"ha-card-icon\">üìù</span>\n            <span>Console Logs</span>\n          </div>\n          <div className=\"ha-card-content ha-log-container\" ref={logContainerRef} style={{ flex: 1, minHeight: 0, overflowY: 'auto' }}>\n            {logs.length === 0 ? (\n              <div className=\"ha-empty-state\">No logs yet. Start the scraper to see activity.</div>\n            ) : (\n              logs.map((log) => (\n                <div key={log.id} className={`ha-log-entry ha-log-${log.level.toLowerCase()}`}>\n                  <span className=\"ha-log-time\">{formatTimestampForLogs(log.timestamp)}</span>\n                  <span className={getLogLevelClass(log.level)}>[{log.level.toUpperCase()}]</span>\n                  <span className=\"ha-log-message\">{log.message}</span>\n                </div>\n              ))\n            )}\n          </div>\n        </div>\n\n        <div className=\"ha-card\" style={{ display: 'flex', flexDirection: 'column', minHeight: 0 }}>\n          <div className=\"ha-card-header\">\n            <span className=\"ha-card-icon\">üñ•Ô∏è</span>\n            <span>Browser Preview</span>\n          </div>\n          <div className=\"ha-card-content\" style={{ flex: 1, minHeight: 0, display: 'flex', alignItems: 'center', justifyContent: 'center', backgroundColor: '#1a1a1a', padding: '1rem' }}>\n            {previewUrl ? (\n              <img \n                src={previewUrl} \n                alt=\"Browser preview\" \n                style={{ \n                  maxWidth: '100%', \n                  maxHeight: '100%', \n                  objectFit: 'contain',\n                  border: '1px solid #333',\n                  borderRadius: '4px'\n                }} \n              />\n            ) : (\n              <div className=\"ha-empty-state\" style={{ textAlign: 'center', color: '#888' }}>\n                {isRunning ? (\n                  <>\n                    <img \n                      src=\"/images/ajax-loader.gif\" \n                      alt=\"Loading\" \n                      style={{ width: '40px', height: '40px', marginBottom: '1rem' }} \n                    />\n                    <div>Waiting for browser preview...</div>\n                  </>\n                ) : (\n                  <div>No preview available. Start the scraper to see browser activity.</div>\n                )}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 654, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/zodyk/OneDrive/Desktop/coned-scraper/coned-scraper/app/components/Settings.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\n\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || '/api'\n\ninterface Credentials {\n  username: string\n  password: string\n  totp_secret: string\n}\n\ninterface TOTPResponse {\n  code: string\n  time_remaining: number\n}\n\nexport default function Settings() {\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [totpSecret, setTotpSecret] = useState('')\n  const [currentTOTP, setCurrentTOTP] = useState<string>('')\n  const [timeRemaining, setTimeRemaining] = useState<number>(30)\n  const [isLoading, setIsLoading] = useState(false)\n  const [message, setMessage] = useState<{ type: 'success' | 'error', text: string } | null>(null)\n  const [activeTab, setActiveTab] = useState<'credentials' | 'automated' | 'webhooks'>('credentials')\n  \n  // Show/hide password states\n  const [showUsername, setShowUsername] = useState(false)\n  const [showPassword, setShowPassword] = useState(false)\n  const [showTotpSecret, setShowTotpSecret] = useState(false)\n  \n  // Helper function to mask text\n  const maskText = (text: string) => {\n    if (!text) return ''\n    return '‚Ä¢'.repeat(text.length)\n  }\n\n  // Load saved credentials on mount\n  useEffect(() => {\n    loadSettings()\n  }, [])\n\n  // Update TOTP code every second\n  useEffect(() => {\n    if (!totpSecret || totpSecret.trim() === '') {\n      setCurrentTOTP('')\n      setTimeRemaining(30)\n      return\n    }\n\n    const updateTOTP = async () => {\n      try {\n        const response = await fetch(`${API_BASE_URL}/totp`)\n        if (response.ok) {\n          const data: TOTPResponse = await response.json()\n          setCurrentTOTP(data.code)\n          setTimeRemaining(data.time_remaining)\n        } else {\n          // Handle different error status codes\n          let errorMessage = 'Error'\n          try {\n            const errorData = await response.json()\n            if (response.status === 404) {\n              errorMessage = 'No credentials saved'\n            } else if (response.status === 400) {\n              errorMessage = errorData.detail || 'Invalid TOTP secret'\n            } else {\n              errorMessage = errorData.detail || 'Failed to fetch TOTP'\n            }\n          } catch {\n            // If response is not JSON, use status text\n            errorMessage = response.status === 404 ? 'No credentials saved' : 'Error'\n          }\n          setCurrentTOTP(errorMessage)\n        }\n      } catch (error) {\n        console.error('Failed to fetch TOTP:', error)\n        setCurrentTOTP('Connection Error')\n      }\n    }\n\n    // Initial fetch immediately\n    updateTOTP()\n\n    // Update every second\n    const interval = setInterval(updateTOTP, 1000)\n\n    return () => clearInterval(interval)\n  }, [totpSecret])\n\n  const loadSettings = async () => {\n    try {\n      const response = await fetch(`${API_BASE_URL}/settings`)\n      if (response.ok) {\n        const data: Credentials = await response.json()\n        setUsername(data.username || '')\n        setPassword('') // Don't show saved password\n        setTotpSecret(data.totp_secret || '')\n        \n        // Reset show states when loading\n        setShowUsername(false)\n        setShowPassword(false)\n        setShowTotpSecret(false)\n        \n        // If TOTP secret exists, trigger TOTP fetch immediately\n        // Note: The useEffect will handle TOTP updates automatically\n        // so we don't need to fetch here\n      } else {\n        console.error('Failed to load settings:', await response.text())\n      }\n    } catch (error) {\n      console.error('Failed to load settings:', error)\n      setMessage({ type: 'error', text: 'Failed to connect to API. Make sure the Python service is running on port 8000.' })\n    }\n  }\n\n  const handleSave = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setIsLoading(true)\n    setMessage(null)\n\n    try {\n      const response = await fetch(`${API_BASE_URL}/settings`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          username,\n          password: password || null, // Send null if empty to keep existing password\n          totp_secret: totpSecret,\n        }),\n      })\n\n      if (response.ok) {\n        setMessage({ type: 'success', text: 'Settings saved successfully!' })\n        // Reload to get updated TOTP\n        if (totpSecret) {\n          const totpResponse = await fetch(`${API_BASE_URL}/totp`)\n          if (totpResponse.ok) {\n            const totpData: TOTPResponse = await totpResponse.json()\n            setCurrentTOTP(totpData.code)\n            setTimeRemaining(totpData.time_remaining)\n          }\n        }\n      } else {\n        const error = await response.json()\n        setMessage({ type: 'error', text: error.detail || 'Failed to save settings' })\n      }\n    } catch (error) {\n      setMessage({ type: 'error', text: 'Failed to connect to API. Make sure the Python service is running.' })\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n\n  return (\n    <div className=\"ha-settings\">\n      <div className=\"ha-tabs\">\n        <button\n          type=\"button\"\n          className={`ha-tab ${activeTab === 'credentials' ? 'active' : ''}`}\n          onClick={() => setActiveTab('credentials')}\n        >\n          üîê Credentials\n        </button>\n        <button\n          type=\"button\"\n          className={`ha-tab ${activeTab === 'automated' ? 'active' : ''}`}\n          onClick={() => setActiveTab('automated')}\n        >\n          ‚è∞ Automated Scrape\n        </button>\n        <button\n          type=\"button\"\n          className={`ha-tab ${activeTab === 'webhooks' ? 'active' : ''}`}\n          onClick={() => setActiveTab('webhooks')}\n        >\n          üîó Home Assistant Webhooks\n        </button>\n      </div>\n\n      {activeTab === 'credentials' && (\n        <div className=\"ha-card\">\n          <div className=\"ha-card-header\">\n            <span className=\"ha-card-icon\">üîê</span>\n            <span>Credentials</span>\n          </div>\n          <div className=\"ha-card-content\">\n            <form onSubmit={handleSave}>\n              <div className=\"ha-form-group\">\n                <label htmlFor=\"username\" className=\"ha-form-label\">Username / Email</label>\n                <div className=\"password-input-wrapper\">\n                  <input\n                    type={showUsername ? \"text\" : \"password\"}\n                    id=\"username\"\n                    className=\"ha-form-input\"\n                    value={showUsername ? username : (username ? maskText(username) : '')}\n                    onChange={(e) => setUsername(e.target.value)}\n                    onFocus={() => setShowUsername(true)}\n                    placeholder=\"your.email@example.com\"\n                    required\n                  />\n                  <button\n                    type=\"button\"\n                    className=\"toggle-password\"\n                    onClick={() => setShowUsername(!showUsername)}\n                    tabIndex={-1}\n                    aria-label={showUsername ? \"Hide username\" : \"Show username\"}\n                  >\n                    {showUsername ? 'üëÅÔ∏è' : 'üëÅÔ∏è‚Äçüó®Ô∏è'}\n                  </button>\n                </div>\n              </div>\n\n              <div className=\"ha-form-group\">\n                <label htmlFor=\"password\" className=\"ha-form-label\">Password</label>\n                <div className=\"password-input-wrapper\">\n                  <input\n                    type={showPassword ? \"text\" : \"password\"}\n                    id=\"password\"\n                    className=\"ha-form-input\"\n                    value={showPassword ? password : (password ? maskText(password) : '')}\n                    onChange={(e) => setPassword(e.target.value)}\n                    onFocus={() => setShowPassword(true)}\n                    placeholder={password ? '' : 'Enter password to update'}\n                  />\n                  <button\n                    type=\"button\"\n                    className=\"toggle-password\"\n                    onClick={() => setShowPassword(!showPassword)}\n                    tabIndex={-1}\n                    aria-label={showPassword ? \"Hide password\" : \"Show password\"}\n                  >\n                    {showPassword ? 'üëÅÔ∏è' : 'üëÅÔ∏è‚Äçüó®Ô∏è'}\n                  </button>\n                </div>\n                <div className=\"info-text\">\n                  Leave empty to keep existing password\n                </div>\n              </div>\n\n              <div className=\"ha-form-group\">\n                <label htmlFor=\"totp_secret\" className=\"ha-form-label\">TOTP Secret</label>\n                <div className=\"password-input-wrapper\">\n                  <input\n                    type={showTotpSecret ? \"text\" : \"password\"}\n                    id=\"totp_secret\"\n                    className=\"ha-form-input\"\n                    value={showTotpSecret ? totpSecret : (totpSecret ? maskText(totpSecret) : '')}\n                    onChange={(e) => setTotpSecret(e.target.value)}\n                    onFocus={() => setShowTotpSecret(true)}\n                    placeholder=\"JBSWY3DPEHPK3PXP\"\n                    required\n                  />\n                  <button\n                    type=\"button\"\n                    className=\"toggle-password\"\n                    onClick={() => setShowTotpSecret(!showTotpSecret)}\n                    tabIndex={-1}\n                    aria-label={showTotpSecret ? \"Hide TOTP secret\" : \"Show TOTP secret\"}\n                  >\n                    {showTotpSecret ? 'üëÅÔ∏è' : 'üëÅÔ∏è‚Äçüó®Ô∏è'}\n                  </button>\n                </div>\n                <div className=\"info-text\">\n                  Enter your TOTP secret (base32 encoded string, same as Google Authenticator)\n                </div>\n              </div>\n\n              <button type=\"submit\" className=\"ha-button ha-button-primary\" disabled={isLoading}>\n                {isLoading ? 'Saving...' : 'Save Settings'}\n              </button>\n            </form>\n\n            {totpSecret && (\n              <div className=\"ha-totp-display\">\n                <h3>Current TOTP Code</h3>\n                <div className=\"ha-totp-code\">{currentTOTP || 'Loading...'}</div>\n                <div className=\"ha-totp-time\">\n                  Expires in {timeRemaining} seconds\n                </div>\n              </div>\n            )}\n\n            {message && (\n              <div className={`ha-card ha-card-${message.type === 'error' ? 'error' : 'status'}`} style={{ marginTop: '1rem' }}>\n                <div className=\"ha-card-content\">\n                  {message.text}\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n\n      {activeTab === 'automated' && (\n        <AutomatedScrapeTab />\n      )}\n\n      {activeTab === 'webhooks' && (\n        <WebhooksTab />\n      )}\n    </div>\n  )\n}\n\nfunction WebhooksTab() {\n  const [latestBillUrl, setLatestBillUrl] = useState('')\n  const [previousBillUrl, setPreviousBillUrl] = useState('')\n  const [accountBalanceUrl, setAccountBalanceUrl] = useState('')\n  const [lastPaymentUrl, setLastPaymentUrl] = useState('')\n  const [isLoading, setIsLoading] = useState(false)\n  const [message, setMessage] = useState<{ type: 'success' | 'error', text: string } | null>(null)\n\n  useEffect(() => {\n    loadWebhooks()\n  }, [])\n\n  const loadWebhooks = async () => {\n    try {\n      const response = await fetch(`${API_BASE_URL}/webhooks`)\n      if (response.ok) {\n        const data = await response.json()\n        setLatestBillUrl(data.latest_bill || '')\n        setPreviousBillUrl(data.previous_bill || '')\n        setAccountBalanceUrl(data.account_balance || '')\n        setLastPaymentUrl(data.last_payment || '')\n      }\n    } catch (error) {\n      console.error('Failed to load webhooks:', error)\n    }\n  }\n\n  const handleSave = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setIsLoading(true)\n    setMessage(null)\n\n    try {\n      const payload = {\n        latest_bill: latestBillUrl.trim(),\n        previous_bill: previousBillUrl.trim(),\n        account_balance: accountBalanceUrl.trim(),\n        last_payment: lastPaymentUrl.trim()\n      }\n\n      const response = await fetch(`${API_BASE_URL}/webhooks`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(payload),\n      })\n\n      if (response.ok) {\n        const data = await response.json()\n        setMessage({ type: 'success', text: `Webhook URLs saved successfully! (${data.configured_count} configured)` })\n        await loadWebhooks()\n      } else {\n        let errorMessage = 'Failed to save webhook URLs'\n        try {\n          const errorData = await response.json()\n          if (errorData.detail) {\n            if (typeof errorData.detail === 'string') {\n              errorMessage = errorData.detail\n            } else if (Array.isArray(errorData.detail)) {\n              // Pydantic validation errors\n              errorMessage = errorData.detail.map((err: any) => \n                `${err.loc.join('.')}: ${err.msg}`\n              ).join(', ')\n            }\n          }\n        } catch {\n          errorMessage = `HTTP ${response.status}: ${response.statusText}`\n        }\n        setMessage({ type: 'error', text: errorMessage })\n      }\n    } catch (error) {\n      setMessage({ type: 'error', text: `Failed to connect to API: ${error instanceof Error ? error.message : 'Unknown error'}` })\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const handleTest = async () => {\n    setIsLoading(true)\n    setMessage(null)\n\n    try {\n      // First, make sure webhooks are saved\n      const saveResponse = await fetch(`${API_BASE_URL}/webhooks`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          latest_bill: latestBillUrl,\n          previous_bill: previousBillUrl,\n          account_balance: accountBalanceUrl,\n          last_payment: lastPaymentUrl\n        }),\n      })\n\n      if (!saveResponse.ok) {\n        const errorData = await saveResponse.json().catch(() => ({}))\n        setMessage({ type: 'error', text: errorData.detail || 'Failed to save webhooks before testing' })\n        setIsLoading(false)\n        return\n      }\n\n      // Test webhooks with existing data\n      setMessage({ type: 'success', text: 'Sending test webhooks with latest scraped data...' })\n      \n      const testResponse = await fetch(`${API_BASE_URL}/webhooks/test`, {\n        method: 'POST',\n      })\n\n      if (testResponse.ok) {\n        const data = await testResponse.json()\n        setMessage({ \n          type: 'success', \n          text: `${data.message}${data.webhooks_sent ? ` (${data.webhooks_sent.join(', ')})` : ''}` \n        })\n      } else {\n        const errorData = await testResponse.json().catch(() => ({}))\n        setMessage({ type: 'error', text: errorData.detail || 'Test webhooks failed' })\n      }\n    } catch (error) {\n      setMessage({ type: 'error', text: 'Failed to test webhooks. Make sure the Python service is running.' })\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const hasAnyWebhook = latestBillUrl.trim() || previousBillUrl.trim() || accountBalanceUrl.trim() || lastPaymentUrl.trim()\n\n  return (\n    <div className=\"ha-card\">\n      <div className=\"ha-card-header\">\n        <span className=\"ha-card-icon\">üîó</span>\n        <span>Home Assistant Webhooks</span>\n      </div>\n      <div className=\"ha-card-content\">\n        <div className=\"info-text\" style={{ marginBottom: '1.5rem' }}>\n          Configure separate webhook URLs for each event type. Each scrape will POST JSON data to the configured URLs.\n        </div>\n\n        <form onSubmit={handleSave}>\n          <div className=\"ha-form-group\">\n            <label htmlFor=\"latest-bill-url\" className=\"ha-form-label\">\n              üìÑ Latest Bill Webhook\n            </label>\n            <input\n              type=\"url\"\n              id=\"latest-bill-url\"\n              className=\"ha-form-input\"\n              value={latestBillUrl}\n              onChange={(e) => setLatestBillUrl(e.target.value)}\n              placeholder=\"https://homeassistant.local/api/webhook/YOUR_WEBHOOK_ID\"\n              style={{ fontFamily: 'monospace', fontSize: '0.9rem' }}\n            />\n            <div className=\"info-text\">\n              Sends latest bill amount, billing cycle date, and month range\n            </div>\n          </div>\n\n          <div className=\"ha-form-group\">\n            <label htmlFor=\"previous-bill-url\" className=\"ha-form-label\">\n              üìã Previous Bill Webhook\n            </label>\n            <input\n              type=\"url\"\n              id=\"previous-bill-url\"\n              className=\"ha-form-input\"\n              value={previousBillUrl}\n              onChange={(e) => setPreviousBillUrl(e.target.value)}\n              placeholder=\"https://homeassistant.local/api/webhook/YOUR_WEBHOOK_ID\"\n              style={{ fontFamily: 'monospace', fontSize: '0.9rem' }}\n            />\n            <div className=\"info-text\">\n              Sends previous bill amount, billing cycle date, and month range\n            </div>\n          </div>\n\n          <div className=\"ha-form-group\">\n            <label htmlFor=\"account-balance-url\" className=\"ha-form-label\">\n              üí∞ Account Balance Webhook\n            </label>\n            <input\n              type=\"url\"\n              id=\"account-balance-url\"\n              className=\"ha-form-input\"\n              value={accountBalanceUrl}\n              onChange={(e) => setAccountBalanceUrl(e.target.value)}\n              placeholder=\"https://homeassistant.local/api/webhook/YOUR_WEBHOOK_ID\"\n              style={{ fontFamily: 'monospace', fontSize: '0.9rem' }}\n            />\n            <div className=\"info-text\">\n              Sends current account balance (outstanding amount)\n            </div>\n          </div>\n\n          <div className=\"ha-form-group\">\n            <label htmlFor=\"last-payment-url\" className=\"ha-form-label\">\n              üí≥ Last Payment Webhook\n            </label>\n            <input\n              type=\"url\"\n              id=\"last-payment-url\"\n              className=\"ha-form-input\"\n              value={lastPaymentUrl}\n              onChange={(e) => setLastPaymentUrl(e.target.value)}\n              placeholder=\"https://homeassistant.local/api/webhook/YOUR_WEBHOOK_ID\"\n              style={{ fontFamily: 'monospace', fontSize: '0.9rem' }}\n            />\n            <div className=\"info-text\">\n              Sends last payment amount and date received\n            </div>\n          </div>\n\n          <div style={{ display: 'flex', gap: '0.75rem', flexWrap: 'wrap' }}>\n            <button type=\"submit\" className=\"ha-button ha-button-primary\" disabled={isLoading}>\n              {isLoading ? 'Saving...' : 'Save Webhooks'}\n            </button>\n            <button \n              type=\"button\" \n              className=\"ha-button\" \n              onClick={handleTest} \n              disabled={isLoading || !hasAnyWebhook}\n              style={{ backgroundColor: '#1e88e5', color: 'white' }}\n            >\n              Test Webhooks\n            </button>\n          </div>\n        </form>\n\n        <div className=\"info-text\" style={{ marginTop: '1rem', padding: '0.75rem', backgroundColor: '#1a1a1a', borderRadius: '4px', border: '1px solid #333' }}>\n          <strong>üìã How it works:</strong>\n          <ul style={{ marginTop: '0.5rem', marginBottom: 0, paddingLeft: '1.25rem' }}>\n            <li><strong>Smart Change Detection:</strong> Webhooks are automatically sent only when values change by comparing with previous scrapes in the database</li>\n            <li><strong>Test Webhooks:</strong> Instantly sends the latest scraped data to all configured webhooks (bypasses change detection for testing)</li>\n            <li><strong>Account Ledger:</strong> View full history of all scrapes and changes on the Account Ledger page</li>\n          </ul>\n        </div>\n\n        {message && (\n          <div className={`ha-card ha-card-${message.type === 'error' ? 'error' : 'status'}`} style={{ marginTop: '1rem' }}>\n            <div className=\"ha-card-content\">\n              {message.text}\n            </div>\n          </div>\n        )}\n\n        <div className=\"ha-card\" style={{ marginTop: '1.5rem', backgroundColor: '#1e1e1e', border: '1px solid #333' }}>\n          <div className=\"ha-card-content\">\n            <h4 style={{ marginTop: 0, marginBottom: '0.75rem', fontSize: '0.95rem' }}>Webhook Payload Examples</h4>\n            \n            <div style={{ marginBottom: '1rem' }}>\n              <strong style={{ fontSize: '0.9rem' }}>Latest Bill:</strong>\n              <pre style={{ \n                backgroundColor: '#0a0a0a', \n                padding: '0.75rem', \n                borderRadius: '4px', \n                fontSize: '0.8rem',\n                overflow: 'auto',\n                margin: '0.5rem 0 0 0'\n              }}>\n{`{\n  \"event_type\": \"latest_bill\",\n  \"timestamp\": \"2026-01-23T12:00:00\",\n  \"data\": {\n    \"bill_total\": \"$123.45\",\n    \"bill_cycle_date\": \"January 15, 2026\",\n    \"month_range\": \"Dec 16 - Jan 15\"\n  }\n}`}\n              </pre>\n            </div>\n\n            <div style={{ marginBottom: '1rem' }}>\n              <strong style={{ fontSize: '0.9rem' }}>Account Balance:</strong>\n              <pre style={{ \n                backgroundColor: '#0a0a0a', \n                padding: '0.75rem', \n                borderRadius: '4px', \n                fontSize: '0.8rem',\n                overflow: 'auto',\n                margin: '0.5rem 0 0 0'\n              }}>\n{`{\n  \"event_type\": \"account_balance\",\n  \"timestamp\": \"2026-01-23T12:00:00\",\n  \"data\": {\n    \"account_balance\": 123.45,\n    \"account_balance_raw\": \"$123.45\"\n  }\n}`}\n              </pre>\n            </div>\n\n            <div>\n              <strong style={{ fontSize: '0.9rem' }}>Last Payment:</strong>\n              <pre style={{ \n                backgroundColor: '#0a0a0a', \n                padding: '0.75rem', \n                borderRadius: '4px', \n                fontSize: '0.8rem',\n                overflow: 'auto',\n                margin: '0.5rem 0 0 0'\n              }}>\n{`{\n  \"event_type\": \"last_payment\",\n  \"timestamp\": \"2026-01-23T12:00:00\",\n  \"data\": {\n    \"amount\": \"$123.45\",\n    \"payment_date\": \"1/15/2026\",\n    \"bill_cycle_date\": \"1/10/2026\",\n    \"description\": \"Payment Received\"\n  }\n}`}\n              </pre>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction AutomatedScrapeTab() {\n  const [enabled, setEnabled] = useState(false)\n  const [hours, setHours] = useState('0')\n  const [minutes, setMinutes] = useState('0')\n  const [seconds, setSeconds] = useState('0')\n  const [isLoading, setIsLoading] = useState(false)\n  const [message, setMessage] = useState<{ type: 'success' | 'error', text: string } | null>(null)\n  const [status, setStatus] = useState<{ enabled: boolean, frequency: number, nextRun?: string } | null>(null)\n\n  useEffect(() => {\n    loadSchedule()\n  }, [])\n\n  const loadSchedule = async () => {\n    try {\n      const response = await fetch(`${API_BASE_URL}/automated-schedule`)\n      if (response.ok) {\n        const data = await response.json()\n        setStatus(data)\n        if (data.enabled) {\n          setEnabled(true)\n          const totalSeconds = data.frequency || 0\n          setHours(Math.floor(totalSeconds / 3600).toString())\n          setMinutes(Math.floor((totalSeconds % 3600) / 60).toString())\n          setSeconds((totalSeconds % 60).toString())\n        }\n      }\n    } catch (error) {\n      console.error('Failed to load schedule:', error)\n    }\n  }\n\n  const handleSave = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setIsLoading(true)\n    setMessage(null)\n\n    try {\n      const totalSeconds = parseInt(hours) * 3600 + parseInt(minutes) * 60 + parseInt(seconds)\n      \n      if (totalSeconds <= 0) {\n        setMessage({ type: 'error', text: 'Frequency must be greater than 0' })\n        setIsLoading(false)\n        return\n      }\n\n      const response = await fetch(`${API_BASE_URL}/automated-schedule`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          enabled,\n          frequency: totalSeconds\n        }),\n      })\n\n      if (response.ok) {\n        setMessage({ type: 'success', text: 'Automated scrape schedule saved successfully!' })\n        await loadSchedule()\n      } else {\n        const errorData = await response.json().catch(() => ({}))\n        setMessage({ type: 'error', text: errorData.error || 'Failed to save schedule' })\n      }\n    } catch (error) {\n      setMessage({ type: 'error', text: 'Failed to connect to API. Make sure the Python service is running.' })\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  return (\n    <div className=\"ha-card\">\n      <div className=\"ha-card-header\">\n        <span className=\"ha-card-icon\">‚è∞</span>\n        <span>Automated Scrape Schedule</span>\n      </div>\n      <div className=\"ha-card-content\">\n        <form onSubmit={handleSave}>\n          <div className=\"ha-form-group\">\n            <label style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', cursor: 'pointer' }}>\n              <input\n                type=\"checkbox\"\n                checked={enabled}\n                onChange={(e) => setEnabled(e.target.checked)}\n                style={{ width: '18px', height: '18px', cursor: 'pointer' }}\n              />\n              <span>Enable Automated Scraping</span>\n            </label>\n          </div>\n\n          {enabled && (\n            <>\n              <div className=\"ha-form-group\">\n                <label className=\"ha-form-label\">Scrape Frequency</label>\n                <div style={{ display: 'flex', gap: '1rem', alignItems: 'flex-start' }}>\n                  <div style={{ flex: 1 }}>\n                    <label htmlFor=\"hours\" className=\"ha-form-label\" style={{ fontSize: '0.85rem' }}>Hours</label>\n                    <input\n                      type=\"number\"\n                      id=\"hours\"\n                      className=\"ha-form-input\"\n                      min=\"0\"\n                      max=\"23\"\n                      value={hours}\n                      onChange={(e) => setHours(e.target.value)}\n                      required\n                    />\n                  </div>\n                  <div style={{ flex: 1 }}>\n                    <label htmlFor=\"minutes\" className=\"ha-form-label\" style={{ fontSize: '0.85rem' }}>Minutes</label>\n                    <input\n                      type=\"number\"\n                      id=\"minutes\"\n                      className=\"ha-form-input\"\n                      min=\"0\"\n                      max=\"59\"\n                      value={minutes}\n                      onChange={(e) => setMinutes(e.target.value)}\n                      required\n                    />\n                  </div>\n                  <div style={{ flex: 1 }}>\n                    <label htmlFor=\"seconds\" className=\"ha-form-label\" style={{ fontSize: '0.85rem' }}>Seconds</label>\n                    <input\n                      type=\"number\"\n                      id=\"seconds\"\n                      className=\"ha-form-input\"\n                      min=\"0\"\n                      max=\"59\"\n                      value={seconds}\n                      onChange={(e) => setSeconds(e.target.value)}\n                      required\n                    />\n                  </div>\n                </div>\n                <div className=\"info-text\" style={{ marginTop: '0.5rem' }}>\n                  Scraper will run automatically every {hours}:{String(minutes).padStart(2, '0')}:{String(seconds).padStart(2, '0')}\n                </div>\n              </div>\n            </>\n          )}\n\n          <button type=\"submit\" className=\"ha-button ha-button-primary\" disabled={isLoading}>\n            {isLoading ? 'Saving...' : 'Save Schedule'}\n          </button>\n        </form>\n\n        {message && (\n          <div className={`ha-card ha-card-${message.type === 'error' ? 'error' : 'status'}`} style={{ marginTop: '1rem' }}>\n            <div className=\"ha-card-content\">\n              {message.text}\n            </div>\n          </div>\n        )}\n\n        {status && status.enabled && status.nextRun && (\n          <div className=\"ha-card ha-card-status\" style={{ marginTop: '1rem' }}>\n            <div className=\"ha-card-content\">\n              <strong>Next scheduled run:</strong> {new Date(status.nextRun).toLocaleString()}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2215, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/zodyk/OneDrive/Desktop/coned-scraper/coned-scraper/app/components/AccountLedger.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect, useCallback } from 'react'\n\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || '/api'\n\ninterface ScrapedData {\n  id: number\n  timestamp: string\n  data: {\n    account_balance?: string\n    bill_history?: {\n      ledger: Array<{\n        type: 'payment' | 'bill'\n        bill_cycle_date?: string\n        description?: string\n        amount?: string\n        month_range?: string\n        bill_total?: string\n        bill_date?: string\n      }>\n      scraped_at?: string\n    }\n  }\n  status: string\n  screenshot_path?: string\n}\n\nfunction formatTimestamp(timestamp: string): { date: string, time: string } {\n  try {\n    const date = new Date(timestamp)\n    const dateStr = date.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })\n    const timeStr = date.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: true })\n    return { date: dateStr, time: timeStr }\n  } catch {\n    return { date: timestamp, time: '' }\n  }\n}\n\nexport default function AccountLedger({ onNavigate }: { onNavigate?: (tab: 'console' | 'settings') => void }) {\n  const [scrapedData, setScrapedData] = useState<ScrapedData[]>([])\n  const [isLoading, setIsLoading] = useState(true)\n  const [apiError, setApiError] = useState<string | null>(null)\n\n  const loadScrapedData = useCallback(async () => {\n    try {\n      const response = await fetch(`${API_BASE_URL}/scraped-data?limit=50`)\n      if (response.ok) {\n        const data = await response.json()\n        setScrapedData(data.data || [])\n        setApiError(null)\n      } else {\n        setApiError('Failed to load scraped data')\n      }\n    } catch (error) {\n      setApiError('Cannot connect to Python service. Make sure it\\'s running on port 8000.')\n    } finally {\n      setIsLoading(false)\n    }\n  }, [])\n\n  useEffect(() => {\n    loadScrapedData()\n    // Refresh every 30 seconds\n    const interval = setInterval(loadScrapedData, 30000)\n    return () => clearInterval(interval)\n  }, [loadScrapedData])\n\n  if (isLoading) {\n    return (\n      <div style={{ \n        padding: '4rem 2rem', \n        textAlign: 'center',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n        minHeight: '400px'\n      }}>\n        <img \n          src=\"/images/ajax-loader.gif\" \n          alt=\"Loading\" \n          style={{ \n            width: '64px', \n            height: '64px',\n            marginBottom: '1.5rem'\n          }} \n        />\n        <div style={{ color: '#666', fontSize: '1rem', marginTop: '1rem' }}>\n          Loading account ledger...\n        </div>\n      </div>\n    )\n  }\n\n  if (apiError) {\n    return (\n      <div style={{ padding: '2rem', textAlign: 'center', color: '#d32f2f' }}>\n        {apiError}\n      </div>\n    )\n  }\n\n  if (scrapedData.length === 0) {\n    return (\n      <div style={{ \n        padding: '4rem 2rem', \n        textAlign: 'center',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n        minHeight: '400px'\n      }}>\n        <img \n          src=\"/images/ajax-loader.gif\" \n          alt=\"Setup Required\" \n          style={{ \n            width: '80px', \n            height: '80px',\n            marginBottom: '2rem',\n            opacity: 0.8\n          }} \n        />\n        <h2 style={{ \n          fontSize: '1.5rem', \n          fontWeight: 600, \n          color: '#333',\n          marginBottom: '1rem'\n        }}>\n          No Account Data Yet\n        </h2>\n        <p style={{ \n          color: '#666', \n          fontSize: '1rem',\n          maxWidth: '500px',\n          lineHeight: '1.6',\n          marginBottom: '2rem'\n        }}>\n          To get started, please configure your credentials in Settings and run the scraper from the Console.\n        </p>\n        <div style={{\n          display: 'flex',\n          gap: '1rem',\n          justifyContent: 'center',\n          flexWrap: 'wrap'\n        }}>\n          <button\n            onClick={() => onNavigate?.('settings')}\n            style={{\n              padding: '0.75rem 1.5rem',\n              backgroundColor: '#03a9f4',\n              color: 'white',\n              border: 'none',\n              borderRadius: '4px',\n              fontSize: '1rem',\n              cursor: 'pointer',\n              fontWeight: 500,\n              transition: 'background-color 0.2s'\n            }}\n            onMouseOver={(e) => e.currentTarget.style.backgroundColor = '#0288d1'}\n            onMouseOut={(e) => e.currentTarget.style.backgroundColor = '#03a9f4'}\n          >\n            ‚öôÔ∏è Go to Settings\n          </button>\n          <button\n            onClick={() => onNavigate?.('console')}\n            style={{\n              padding: '0.75rem 1.5rem',\n              backgroundColor: '#4caf50',\n              color: 'white',\n              border: 'none',\n              borderRadius: '4px',\n              fontSize: '1rem',\n              cursor: 'pointer',\n              fontWeight: 500,\n              transition: 'background-color 0.2s'\n            }}\n            onMouseOver={(e) => e.currentTarget.style.backgroundColor = '#45a049'}\n            onMouseOut={(e) => e.currentTarget.style.backgroundColor = '#4caf50'}\n          >\n            üìä Go to Console\n          </button>\n        </div>\n      </div>\n    )\n  }\n\n  const latestData = scrapedData[0]\n  const timestamp = formatTimestamp(latestData.timestamp)\n  const accountBalance = latestData.data?.account_balance || '-'\n  const screenshotPath = latestData.screenshot_path\n  const billHistory = latestData.data?.bill_history\n\n  // Group bills and payments correctly\n  const bills: Array<any> = []\n  const payments: Array<any> = []\n\n  if (billHistory?.ledger) {\n    billHistory.ledger.forEach((entry) => {\n      if (entry.type === 'bill') {\n        bills.push(entry)\n      } else if (entry.type === 'payment') {\n        payments.push(entry)\n      }\n    })\n  }\n\n  // Sort bills by date (newest first)\n  bills.sort((a, b) => {\n    try {\n      const dateA = new Date(a.bill_cycle_date || a.bill_date || 0)\n      const dateB = new Date(b.bill_cycle_date || b.bill_date || 0)\n      return dateB.getTime() - dateA.getTime()\n    } catch {\n      return 0\n    }\n  })\n\n  // Sort payments by date (newest first)\n  payments.sort((a, b) => {\n    try {\n      const dateA = new Date(a.bill_cycle_date || 0)\n      const dateB = new Date(b.bill_cycle_date || 0)\n      return dateB.getTime() - dateA.getTime()\n    } catch {\n      return 0\n    }\n  })\n\n  // Group payments under their corresponding bills\n  const groupedBills: Array<{ bill: any, payments: Array<any> }> = []\n  const assignedPaymentIndices = new Set<number>()\n\n  bills.forEach((bill, billIndex) => {\n    try {\n      const billCycleDateStr = bill.bill_cycle_date || bill.bill_date || ''\n      const billCycleEndDate = new Date(billCycleDateStr)\n      const previousBillCycleEndDate = billIndex > 0 \n        ? new Date(bills[billIndex - 1].bill_cycle_date || bills[billIndex - 1].bill_date || 0)\n        : null\n\n      const billPayments: Array<any> = []\n\n      payments.forEach((payment, paymentIndex) => {\n        if (assignedPaymentIndices.has(paymentIndex)) {\n          return\n        }\n\n        try {\n          const paymentDateStr = payment.bill_cycle_date || ''\n          const paymentDate = new Date(paymentDateStr)\n\n          let belongsToThisBill = false\n\n          if (previousBillCycleEndDate === null) {\n            belongsToThisBill = paymentDate > billCycleEndDate\n          } else {\n            belongsToThisBill = paymentDate > billCycleEndDate && paymentDate <= previousBillCycleEndDate\n          }\n\n          if (belongsToThisBill) {\n            billPayments.push(payment)\n            assignedPaymentIndices.add(paymentIndex)\n          }\n        } catch (e) {\n          console.warn('Failed to parse payment date:', payment, e)\n        }\n      })\n\n      billPayments.sort((a: any, b: any) => {\n        try {\n          const dateA = new Date(a.bill_cycle_date || 0)\n          const dateB = new Date(b.bill_cycle_date || 0)\n          return dateB.getTime() - dateA.getTime()\n        } catch {\n          return 0\n        }\n      })\n\n      groupedBills.push({\n        bill,\n        payments: billPayments\n      })\n    } catch (e) {\n      console.warn('Failed to parse bill date:', bill, e)\n      groupedBills.push({\n        bill,\n        payments: []\n      })\n    }\n  })\n\n  // Remove duplicate bills\n  const seenBillDates = new Set<string>()\n  const uniqueGroupedBills = groupedBills.filter((group) => {\n    const billDate = group.bill.bill_cycle_date || group.bill.bill_date || ''\n    if (seenBillDates.has(billDate)) {\n      return false\n    }\n    seenBillDates.add(billDate)\n    return true\n  })\n\n  return (\n    <div className=\"ha-ledger\">\n      <div className=\"ha-card ha-card-summary\">\n        <div className=\"ha-card-header\">\n          <span className=\"ha-card-icon\">üí∞</span>\n          <span>Account Summary</span>\n        </div>\n        <div className=\"ha-card-content\">\n          <div className=\"ha-summary-grid\">\n            <strong>Date:</strong> <span>{timestamp.date}</span>\n            <strong>Time:</strong> <span>{timestamp.time}</span>\n            <strong>Account Balance:</strong> <span className=\"ha-summary-balance\">{accountBalance}</span>\n            {screenshotPath && (\n              <>\n                <strong>Screenshot:</strong>\n                <a \n                  href={`${API_BASE_URL}/screenshot/${screenshotPath.split('/').pop() || screenshotPath}`}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  className=\"ha-button ha-button-primary\"\n                  style={{ fontSize: '0.7rem', padding: '0.4rem 0.75rem', textDecoration: 'none', display: 'inline-flex', alignItems: 'center', gap: '0.4rem' }}\n                >\n                  <img src=\"/images/Coned_snapshot.svg\" alt=\"Screenshot\" style={{ width: '16px', height: '16px' }} />\n                  View Account Balance Screenshot\n                </a>\n              </>\n            )}\n          </div>\n        </div>\n      </div>\n\n      <div className=\"ha-card ha-card-ledger\">\n        <div className=\"ha-card-header\">\n          <span className=\"ha-card-icon\">üìã</span>\n          <span>Bill History Ledger</span>\n        </div>\n        <div className=\"ha-card-content\">\n          {uniqueGroupedBills.length > 0 ? (\n            <div>\n              {uniqueGroupedBills.map((group, idx) => {\n                const bill = group.bill\n                const payments = group.payments\n                const cycleKey = bill.bill_cycle_date || bill.bill_date || 'Unknown'\n\n                return (\n                  <div key={`${cycleKey}-${idx}`} className=\"ha-bill-card\">\n                    <div className=\"ha-bill-header\">\n                      Bill Cycle: {cycleKey}\n                      {bill?.month_range && ` (${bill.month_range})`}\n                    </div>\n\n                    <div className=\"ha-bill-entry\">\n                      <div className=\"ha-bill-content\">\n                        <div style={{ display: 'flex', alignItems: 'center', gap: '0.6rem', flexWrap: 'wrap' }}>\n                          <span className=\"ha-bill-badge\">Bill</span>\n                          <div>\n                            <div style={{ fontWeight: 600, marginBottom: '0.15rem', fontSize: '0.8rem' }}>\n                              {bill.month_range || 'Bill'}\n                            </div>\n                            <div style={{ fontSize: '0.7rem', color: '#666' }}>\n                              {bill.bill_date ? new Date(bill.bill_date).toLocaleDateString('en-US', { year: 'numeric', month: 'short', day: 'numeric' }) : cycleKey}\n                            </div>\n                          </div>\n                        </div>\n                        <div className=\"ha-bill-amount\">\n                          {bill.bill_total || '-'}\n                        </div>\n                      </div>\n                    </div>\n\n                    {payments.length > 0 && (\n                      <div>\n                        {payments.map((payment: any, paymentIdx: number) => (\n                          <div key={paymentIdx} className=\"ha-payment-entry\">\n                            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', flexWrap: 'wrap', gap: '0.5rem' }}>\n                              <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', flexWrap: 'wrap' }}>\n                                <span className=\"ha-payment-badge\">Payment</span>\n                                <div>\n                                  <div style={{ fontWeight: 500, marginBottom: '0.1rem', fontSize: '0.75rem' }}>\n                                    {payment.description || 'Payment Received'}\n                                  </div>\n                                  <div style={{ fontSize: '0.65rem', color: '#666' }}>\n                                    {payment.bill_cycle_date || cycleKey}\n                                  </div>\n                                </div>\n                              </div>\n                              <div className=\"ha-payment-amount\">\n                                {payment.amount || '-'}\n                              </div>\n                            </div>\n                          </div>\n                        ))}\n                      </div>\n                    )}\n                  </div>\n                )\n              })}\n            </div>\n          ) : (\n            <div className=\"ha-empty-state\">\n              No bill history ledger data available. Run the scraper to collect data.\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  )\n}\n\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2970, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/zodyk/OneDrive/Desktop/coned-scraper/coned-scraper/app/app/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport Dashboard from '../components/Dashboard'\nimport Settings from '../components/Settings'\nimport AccountLedger from '../components/AccountLedger'\n\nexport default function Home() {\n  const [activeTab, setActiveTab] = useState<'console' | 'account-ledger' | 'settings'>('account-ledger')\n\n  return (\n    <div className=\"ha-container\">\n      <div className=\"ha-header\">\n        <div className=\"ha-header-content\">\n          <div className=\"ha-logo-container\">\n            <img \n              src=\"/images/logo.svg\" \n              alt=\"ConEd Logo\" \n              width={100}\n              height={20}\n              style={{ filter: 'brightness(0) invert(1)' }}\n            />\n          </div>\n          <nav className=\"ha-nav\">\n            <button\n              className={`ha-nav-button ${activeTab === 'account-ledger' ? 'active' : ''}`}\n              onClick={() => setActiveTab('account-ledger')}\n              aria-label=\"Account Ledger\"\n            >\n              <span className=\"ha-nav-icon\">üìã</span>\n              <span>Account Ledger</span>\n            </button>\n            <button\n              className={`ha-nav-button ${activeTab === 'console' ? 'active' : ''}`}\n              onClick={() => setActiveTab('console')}\n              aria-label=\"Console\"\n            >\n              <span className=\"ha-nav-icon\">üìä</span>\n              <span>Console</span>\n            </button>\n            <button\n              className={`ha-nav-button ${activeTab === 'settings' ? 'active' : ''}`}\n              onClick={() => setActiveTab('settings')}\n              aria-label=\"Settings\"\n            >\n              <span className=\"ha-nav-icon\">‚öôÔ∏è</span>\n              <span>Settings</span>\n            </button>\n          </nav>\n        </div>\n      </div>\n\n      <div className=\"ha-content\">\n        {activeTab === 'console' && <Dashboard />}\n        {activeTab === 'account-ledger' && <AccountLedger onNavigate={(tab) => setActiveTab(tab)} />}\n        {activeTab === 'settings' && <Settings />}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAOe,SAAS;;IACtB,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,oMAAQ,EAA4C;IAEtF,qBACE,wNAAC;QAAI,WAAU;;0BACb,wNAAC;gBAAI,WAAU;0BACb,cAAA,wNAAC;oBAAI,WAAU;;sCACb,wNAAC;4BAAI,WAAU;sCACb,cAAA,wNAAC;gCACC,KAAI;gCACJ,KAAI;gCACJ,OAAO;gCACP,QAAQ;gCACR,OAAO;oCAAE,QAAQ;gCAA0B;;;;;;;;;;;sCAG/C,wNAAC;4BAAI,WAAU;;8CACb,wNAAC;oCACC,WAAW,AAAC,iBAA+D,OAA/C,cAAc,mBAAmB,WAAW;oCACxE,SAAS,IAAM,aAAa;oCAC5B,cAAW;;sDAEX,wNAAC;4CAAK,WAAU;sDAAc;;;;;;sDAC9B,wNAAC;sDAAK;;;;;;;;;;;;8CAER,wNAAC;oCACC,WAAW,AAAC,iBAAwD,OAAxC,cAAc,YAAY,WAAW;oCACjE,SAAS,IAAM,aAAa;oCAC5B,cAAW;;sDAEX,wNAAC;4CAAK,WAAU;sDAAc;;;;;;sDAC9B,wNAAC;sDAAK;;;;;;;;;;;;8CAER,wNAAC;oCACC,WAAW,AAAC,iBAAyD,OAAzC,cAAc,aAAa,WAAW;oCAClE,SAAS,IAAM,aAAa;oCAC5B,cAAW;;sDAEX,wNAAC;4CAAK,WAAU;sDAAc;;;;;;sDAC9B,wNAAC;sDAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAMd,wNAAC;gBAAI,WAAU;;oBACZ,cAAc,2BAAa,wNAAC,iKAAS;;;;;oBACrC,cAAc,kCAAoB,wNAAC,qKAAa;wBAAC,YAAY,CAAC,MAAQ,aAAa;;;;;;oBACnF,cAAc,4BAAc,wNAAC,gKAAQ;;;;;;;;;;;;;;;;;AAI9C;GApDwB;KAAA","debugId":null}}]
}